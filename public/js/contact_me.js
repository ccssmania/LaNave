$(function(){$("#contactForm input,#contactForm textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function($form,event,errors){},submitSuccess:function($form,event){event.preventDefault();var name=$("input#name").val();var email=$("input#email").val();var phone=$("input#phone").val();var message=$("textarea#message").val();var firstName=name;$this=$("#sendMessageButton");$this.prop("disabled",!0);$.ajaxSetup({headers:{'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')}});$.ajax({url:"/contactus",type:"POST",data:{name:name,number:phone,email:email,message:message},cache:!1,beforeSend:function(){swal("Enviando","Se esta enviando el mensaje","info")},success:function(){swal.close();swal({title:"Enviado!",text:"El mensaje ha sido enviado correctamente.",type:"success"},function(){location.reload()})},error:function(e){swal.close();var validation=e.responseJSON
if(validation.message=='The given data was invalid.'){$('#success').html("<div class='alert alert-danger'>");$('#success > .alert-danger').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$('#success > .alert-danger').append($("<strong>").text("Por favor solucione los siguientes errores ").append("<br />"));$.each(validation.errors,function(key,value){$('#success > .alert-danger').append($("<strong>").text(key+' : '+value+'\n').append("<br />"))});$('#success > .alert-danger').append('</div>')}else{$('#success').html("<div class='alert alert-danger'>");$('#success > .alert-danger').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$('#success > .alert-danger').append($("<strong>").text("Lo sentimos "+firstName+", Parece que el servidor no esta respondiendo. Por favor intentalo mas tarde!"));$('#success > .alert-danger').append('</div>');$('#contactForm').trigger("reset")}},complete:function(){setTimeout(function(){$this.prop("disabled",!1)},1000)}})},filter:function(){return $(this).is(":visible")},});$("a[data-toggle=\"tab\"]").click(function(e){e.preventDefault();$(this).tab("show")})});$('#name').focus(function(){$('#success').html('')})